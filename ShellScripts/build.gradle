task installScripts {
    doLast {
        copyWithSudo ("${home}/ShellScripts/scripts/usr", "/usr/local/bin")
        copyWithSudo ("${home}/ShellScripts/scripts/network", "/etc/NetworkManager/dispatcher.d")
        if (!new File ("${home}/ngrok/ngrok").exists ()) {
            new File ("${home}/ngrok").mkdirs ()
            copy {
                from "ngrok"
                into "${home}/ngrok"
            }
        }
        println "copied successfully"
    }
}

def copyWithSudo(from, to) {
    exec {
        commandLine 'find', from, '-type', 'f', '-exec', 'sudo', 'cp', '{}', to, ';'
    }
}


defaultTasks "installScripts"